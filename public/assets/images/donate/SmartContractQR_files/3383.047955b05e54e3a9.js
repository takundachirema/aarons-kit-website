"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3383],{93383:function(t,e,n){n.d(e,{Z:function(){return z}});var r=n(16835),c=n(50029),o=n(92777),u=n(82262),i=n(59499),a=n(87794),s=n.n(a),l=n(45959),f=n(63553),y=n(37247),d=n(44050),p=n.n(d),h=n(51347),v=n(90181),m=n.n(v),q=n(12828),k=n.n(q);function g(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,h.fetchJSON)(e,{parser:m().parse,headers:n});case 3:return r=t.sent,t.abrupt("return",k()(r,{deep:!0}));case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0 instanceof h.FetchError)){t.next=13;break}throw t.t0;case 13:if(!(t.t0 instanceof Error)){t.next=17;break}throw t.t0;case 17:throw new Error("Bad request");case 18:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function b(t){var e=t.timeStart,n=t.timeEnd,r=t.interval,c=t.assetId,o=0,u="";return"undefined"!==typeof e&&"number"===typeof e&&(u+="?time-start=".concat(e),o+=1),"undefined"!==typeof n&&"number"===typeof e&&(u+="".concat(0===o?"?":"&","time-end=").concat(n),o+=1),"undefined"!==typeof r&&(u+="".concat(0===o?"?":"&","interval=").concat(r),o+=1),"undefined"!==typeof c&&"number"===typeof c&&(u+="".concat(0===o?"?":"&","asset-id=").concat(c)),u}function R(t){if("undefined"!==typeof t){var e=t.includeNonpart,n=t.next,r=t.limit,c=0,o="";return"undefined"!==typeof e&&"boolean"===typeof e&&(o+="?include-nonpart=".concat(e),c+=1),"undefined"!==typeof n&&"string"===typeof n&&(o+="".concat(0===c?"?":"&","next=").concat(n),c+=1),"undefined"!==typeof r&&"number"===typeof r&&(o+="".concat(0===c?"?":"&","limit=").concat(r),c+=1),o}return""}function w(t){var e=t.cursor,n=t.limit,r="";return"undefined"!==typeof n&&"number"===typeof n&&(r+="?limit=".concat(n)),"undefined"!==typeof e&&"string"===typeof e&&(r+="&cursor=".concat(e)),r}var A=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,o.Z)(this,t),this.decompilerUrl=r,(0,i.Z)(this,"url",void 0),(0,i.Z)(this,"headers",void 0),this.url=e,this.headers=n};function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var B=function(t){(0,l.Z)(n,t);var e=x(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"queryAccount",value:function(t,e){if(!p().isValidAddress(t))throw new Error("Invalid address");return g("".concat(this.url,"/v2/accounts/").concat(t).concat(function(t){var e=t.includeAll,n=t.appsLocalStateLimit,r=t.assetsLimit,c=t.exclude,o="?include-all=".concat(e);return"undefined"!==typeof n&&"number"===typeof n&&(o+="&apps-local-state-limit=".concat(n)),"undefined"!==typeof r&&"number"===typeof r&&(o+="&assets-limit=".concat(r)),"undefined"!==typeof c&&Array.isArray(c)&&(o+="&exclude=".concat(c.toString())),o}(e)),this.headers)}},{key:"queryAccountAssets",value:function(t,e){if(!p().isValidAddress(t))throw new Error("Invalid address");return g("".concat(this.url,"/v2/accounts/").concat(t,"/assets").concat(function(t){var e=t.assetId,n=t.limit,r=t.next,c=t.keywords,o="?",u=!0;return"undefined"!==typeof n&&"number"===typeof n&&(o+="limit=".concat(n),u=!1),"undefined"!==typeof e&&"number"===typeof e&&(o+="".concat(u?"":"&&","asset-id=").concat(e),u=!1),"undefined"!==typeof r&&"number"===typeof r&&(o+="".concat(u?"":"&&","next=").concat(r),u=!1),"undefined"!==typeof c&&"string"===typeof c&&c.length>=3&&(o+="".concat(u?"":"&&","keywords=").concat(c),u=!1),o}(e)),this.headers)}}]),n}(A),S=B;function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var M=function(t){(0,l.Z)(n,t);var e=P(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"queryApplication",value:function(t){if("number"!==typeof t||t<0)throw new Error("Invalid arguments, appID must be a positive integer");return g("".concat(this.url,"/v2/applications/").concat(t.toString(),"?include-all=true"),this.headers)}},{key:"queryApplications",value:function(t){return g("".concat(this.url,"/rl/v1/applications").concat(w(t)),this.headers)}}]),n}(A),E=M;function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var T=function(t){(0,l.Z)(n,t);var e=I(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"queryAsset",value:function(t){if("number"!==typeof t)throw new Error("Invalid arguments, assetID must be a integer number");return g("".concat(this.url,"/v2/assets/").concat(t,"?include-all=true"),this.headers)}},{key:"queryAssets",value:function(t){return g("".concat(this.url,"/rl/v1/assets").concat(w(t)),this.headers)}},{key:"queryGetOwners",value:function(t){return g("".concat(this.url,"/v2/assets/").concat(t,"/balances?currency-greater-than=0"),this.headers)}}]),n}(A),L=T;function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var C=function(t){(0,l.Z)(n,t);var e=O(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"queryBlock",value:function(t){if("undefined"===typeof t)throw new Error("Invalid params");return g("".concat(this.url,"/v2/blocks/").concat(t,"?header-only=true"),this.headers)}},{key:"queryBlocks",value:function(t){if(!function(t){var e=t.minRound,n=t.maxRound,r=t.latest;return!("undefined"===typeof e&&"undefined"===typeof n&&"undefined"===typeof r||"undefined"!==typeof e&&"undefined"!==typeof n&&"undefined"!==typeof r||"undefined"!==typeof e&&"undefined"===typeof n||"undefined"===typeof e&&"undefined"!==typeof n)}(t))throw new Error("Invalid params");return g("".concat(this.url,"/v2/blocks").concat(function(t){var e=t.minRound,n=t.maxRound,r=t.latest,c="";return"undefined"!==typeof e&&"number"===typeof e&&"undefined"!==typeof n&&"number"===typeof n&&(c+="?min-round=".concat(e,"&&max-round=").concat(n)),"undefined"!==typeof r&&"number"===typeof r&&(c+="?latest=".concat(r)),c}(t)),this.headers)}}]),n}(A),D=C;function G(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var N=function(t){(0,l.Z)(n,t);var e=G(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"queryTransaction",value:function(t){if("string"!==typeof t)throw new Error("Invalid arguments, txID must be a string hash");return g("".concat(this.url,"/v2/transactions/").concat(t),this.headers)}},{key:"queryDecompiledTransaction",value:function(){var t=(0,c.Z)(s().mark((function t(e){var n,r=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:0,"string"===typeof e&&e){t.next=3;break}throw new Error("Invalid arguments, txID must be a string hash");case 3:return t.prev=3,t.next=6,g(this.decompilerUrl+"/"+e+"/"+n,this.headers);case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",Promise.resolve(null));case 12:case"end":return t.stop()}}),t,this,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"queryTransactions",value:function(t){return g("".concat(this.url,"/rl/v1/transactions").concat(function(t){var e=t.page,n=t.limit,r=t.address,c=t.assetId,o=t.round,u=t.applicationId,i=t.lsigOnly,a=t.type,s="?",l=!0;return"undefined"!==typeof e&&"number"===typeof e&&(s+="".concat(l?"":"&&","page=").concat(e),l=!1),"undefined"!==typeof n&&"number"===typeof n&&(s+="".concat(l?"":"&&","limit=").concat(n),l=!1),"undefined"!==typeof r&&"string"===typeof r&&(s+="".concat(l?"":"&&","address=").concat(r),l=!1),"undefined"!==typeof c&&"number"===typeof c&&(s+="".concat(l?"":"&&","asset-id=").concat(c),l=!1),"undefined"!==typeof o&&"number"===typeof o&&(s+="".concat(l?"":"&&","round=").concat(o),l=!1),"undefined"!==typeof u&&"number"===typeof u&&(s+="".concat(l?"":"&&","application-id=").concat(u),l=!1),"undefined"!==typeof i&&"boolean"===typeof i&&(s+="".concat(l?"":"&&","lsig-only=").concat(i),l=!1),"undefined"!==typeof a&&"string"===typeof a&&(s+="".concat(l?"":"&&","tx-type=").concat(a),l=!1),s}(t)),this.headers)}},{key:"queryGroupTransactions",value:function(t){return g("".concat(this.url,"/v2/transactions?group-id=").concat(t),this.headers)}}]),n}(A),U=N;function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var H=function(t){(0,l.Z)(n,t);var e=_(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"querySearchDigest",value:function(t){return g("".concat(this.url,"/v2/search?digest=").concat(t),this.headers)}},{key:"queryCirculating",value:function(){return g("https://metricsapi.algorand.foundation/v1/supply/circulating?unit=algo",this.headers)}},{key:"queryLedgerSupply",value:function(){return g("https://node.algoexplorerapi.io/v2/ledger/supply",this.headers)}},{key:"queryStatus",value:function(){return g("".concat(this.url,"/rl/v1/status"),this.headers)}}]),n}(A),V=H;function F(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,y.Z)(t);if(e){var c=(0,y.Z)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var J=function(t){(0,l.Z)(n,t);var e=F(n);function n(t,r){return(0,o.Z)(this,n),e.call(this,"".concat(t,"/stats/v2"),r)}return(0,u.Z)(n,[{key:"queryAccountBalanceMetrics",value:function(t){return g("".concat(this.url,"/accounts/balances").concat(b(t)),this.headers)}},{key:"queryEconomicMetrics",value:function(t){return g("".concat(this.url,"/economics").concat(b(t)),this.headers)}},{key:"queryMovementsMetrics",value:function(t){return g("".concat(this.url,"/movements").concat(b(t)),this.headers)}},{key:"queryTransactionMetrics",value:function(t){return g("".concat(this.url,"/transactions/count").concat(b(t)),this.headers)}},{key:"queryAssetsUsersMetrics",value:function(t){return g("".concat(this.url,"/users").concat(b(t)),this.headers)}},{key:"queryRichList",value:function(t){return g("".concat(this.url,"/accounts/rich-list").concat(R(t)),this.headers)}},{key:"queryAssetRichList",value:function(t){return g("".concat(this.url,"/accounts/rich-list").concat(function(t){if("undefined"!==typeof t){var e=t.includeNonpart,n=t.next,r=t.limit,c=t.assetId;return R({includeNonpart:e,next:n,limit:r})+"&asset-id=".concat(c)}return""}(t)),this.headers)}},{key:"queryAccountBalanceHistory",value:function(t){return g("".concat(this.url,"/accounts/balance-history/").concat(t.address).concat(b(t)),this.headers)}}]),n}(A),j=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,o.Z)(this,t),(0,i.Z)(this,"accounts",void 0),(0,i.Z)(this,"applications",void 0),(0,i.Z)(this,"assets",void 0),(0,i.Z)(this,"blocks",void 0),(0,i.Z)(this,"transactions",void 0),(0,i.Z)(this,"tools",void 0),(0,i.Z)(this,"stats",void 0),(0,i.Z)(this,"query",void 0),this.accounts=new S(e.url,{}),this.applications=new E(e.url,{}),this.assets=new L(e.url,{}),this.blocks=new D(e.url,{}),this.transactions=new U(e.url,{},n),this.tools=new V(e.url,{}),this.stats=new J(e.url,{}),this.query=new J(e.url,{})}return(0,u.Z)(t,[{key:"queryAccount",value:function(t,e){return this.accounts.queryAccount(t,e)}},{key:"queryAccountAssets",value:function(t,e){return this.accounts.queryAccountAssets(t,e)}},{key:"queryApplication",value:function(t){return this.applications.queryApplication(t)}},{key:"queryApplications",value:function(t){return this.applications.queryApplications(t)}},{key:"queryAsset",value:function(t){return this.assets.queryAsset(t)}},{key:"queryAssets",value:function(t){return this.assets.queryAssets(t)}},{key:"queryBlock",value:function(t){return this.blocks.queryBlock(t)}},{key:"queryBlocks",value:function(t){return this.blocks.queryBlocks(t)}},{key:"queryTransaction",value:function(){var t=(0,c.Z)(s().mark((function t(e){var n,c,o,u,i,a,l,f,y,d,p,h,v=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=v.length>1&&void 0!==v[1]?v[1]:0,u=this.transactions.queryTransaction(e),i=this.transactions.queryDecompiledTransaction(e,o),t.next=5,Promise.all([u,i]);case 5:if(a=t.sent,l=(0,r.Z)(a,2),f=l[0],y=l[1],f.transaction.decompiledCode=null!==(n=f.transaction.decompiledCode)&&void 0!==n?n:{},y){t.next=12;break}return t.abrupt("return",f);case 12:return y.approvalProgram&&(f.transaction.decompiledCode.approvalProgram={disassembly:null===(d=y.approvalProgram)||void 0===d?void 0:d.decompiled},f.transaction.applicationTransaction.approvalProgram=y.approvalProgram.code),y.clearStateProgram&&(f.transaction.decompiledCode.clearStateProgram={disassembly:null===(p=y.clearStateProgram)||void 0===p?void 0:p.decompiled},f.transaction.applicationTransaction.clearStateProgram=y.clearStateProgram.code),y.logicSig&&(f.transaction.decompiledCode.logicSig={disassembly:null===(h=y.logicSig)||void 0===h?void 0:h.decompiled,addresses:[]}),y.logicSig&&f.transaction.signature&&null!==(c=f.transaction.signature)&&void 0!==c&&c.logicsig&&(f.transaction.signature.logicsig.logic=y.logicSig.code),t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"queryTransactions",value:function(t){return this.transactions.queryTransactions(t)}},{key:"queryGroupTransactions",value:function(t){return this.transactions.queryGroupTransactions(t)}},{key:"queryAccountBalanceMetrics",value:function(t){return this.stats.queryAccountBalanceMetrics(t)}},{key:"queryEconomicMetrics",value:function(t){return this.stats.queryEconomicMetrics(t)}},{key:"queryMovementsMetrics",value:function(t){return this.stats.queryMovementsMetrics(t)}},{key:"queryTransactionMetrics",value:function(t){return this.stats.queryTransactionMetrics(t)}},{key:"queryAssetsUsersMetrics",value:function(t){return this.stats.queryAssetsUsersMetrics(t)}},{key:"queryRichList",value:function(t){return this.stats.queryRichList(t)}},{key:"queryAssetRichList",value:function(t){return this.stats.queryAssetRichList(t)}},{key:"queryAccountBalanceHistory",value:function(t){return this.stats.queryAccountBalanceHistory(t)}},{key:"querySearchDigest",value:function(t){return this.tools.querySearchDigest(t)}},{key:"queryCirculating",value:function(){return this.tools.queryCirculating()}},{key:"queryLedgerSupply",value:function(){return this.tools.queryLedgerSupply()}},{key:"queryStatus",value:function(){return this.tools.queryStatus()}},{key:"queryGetOwners",value:function(t){return this.assets.queryGetOwners(t)}}]),t}(),z=j}}]);